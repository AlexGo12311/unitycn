{{define "content"}}
<div class="d-flex justify-between align-center mb-3">
    <h3>Список комментариев</h3>
</div>

<table class="table">
<thead>
<tr>
    <th>ID</th>
    <th>Пост</th>
    <th>Автор</th>
    <th>Комментарий</th>
    <th>Дата</th>
    <th>Действия</th>
</tr>
</thead>
<tbody>
{{range .comments}}
<tr>
    <td>{{.ID}}</td>
    <td><a href="/admin/posts/{{.PostID}}/edit">{{.PostID}}</a></td>
    <td>{{if .User}}{{if .User.DisplayName}}{{.User.DisplayName}}{{else}}{{.User.Username}}{{end}}{{else}}Удаленный пользователь{{end}}</td>
    <td style="max-width:300px;overflow:hidden;text-overflow:ellipsis;">{{.Content}}</td>
    <td>{{.CreatedAt.Format "02.01.2006 15:04"}}</td>
    <td><button class="btn btn-danger btn-sm" onclick="deleteComment({{.ID}})">Удалить</button></td>
</tr>
{{end}}
</tbody>
</table>
{{end}}
