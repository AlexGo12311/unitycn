{{define "content"}}
<div class="d-flex justify-between align-center mb-3">
    <h3>Список пользователей</h3>
</div>

<table class="table">
<thead>
<tr>
    <th>ID</th>
    <th>Имя пользователя</th>
    <th>Отображаемое имя</th>
    <th>Роль</th>
    <th>Дата регистрации</th>
    <th>Действия</th>
</tr>
</thead>
<tbody>
{{range .users}}
<tr>
    <td>{{.ID}}</td>
    <td>{{.Username}}</td>
    <td>{{if .DisplayName}}{{.DisplayName}}{{else}}—{{end}}</td>
    <td>
        <select class="form-control role-select" data-user-id="{{.ID}}" style="width:auto;">
            <option value="user" {{if eq .Role "user"}}selected{{end}}>Пользователь</option>
            <option value="moderator" {{if eq .Role "moderator"}}selected{{end}}>Модератор</option>
            <option value="admin" {{if eq .Role "admin"}}selected{{end}}>Администратор</option>
        </select>
    </td>
    <td>{{.CreatedAt.Format "02.01.2006 15:04"}}</td>
    <td>
        <button class="btn btn-danger btn-sm" onclick="deleteUser({{.ID}})">Удалить</button>
    </td>
</tr>
{{end}}
</tbody>
</table>
{{end}}
